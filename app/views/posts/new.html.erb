<% @title = 'New Post' %>

<% form_for(@post) do |f| %>
  <%= f.error_messages %>

  <p>
    <% if @collection.length > 0 %>
      <%= f.label :about_collection %>: <%= hidden_field_tag "post[collection_id]", @collection[0].id %><strong><%= @collection[0].name %></strong>
    <% end %>
    <% if @taxonomy.length > 0 %>
      <%= f.label :about_taxonomy %>: <%= hidden_field_tag "post[taxonomy_id]", @taxonomy[0].id %><strong><%= @taxonomy[0].name %></strong>
    <% end %>
    <% if @category.length > 0 %>
      <%= f.label :about_category %>: <%= hidden_field_tag "post[category_id]", @category[0].id %><strong><%= @category[0].name %></strong>
    <% end %>
  </p>
  <p>
    <%= f.label :title %><br />
    <%= f.text_field :post_title %>
  </p>
  <p>
    <%= f.label :text %><br />
    <%= f.text_area :post_text,:rows => 7,:cols => 45 %>
  </p>
  <p>
    <%= f.label :author %><br />
    <%= f.text_field :post_author %>
  </p>
  <p>
    <%= f.label :author_email %><br />
    <%= f.text_field :author_email %>   
  </p> 
  <p>
    <%= label(:topic, :id, 'Topic') %><br />  
    <%= collection_select(:post, :topic_id, Topic.find(:all), :id, :topic_name, options = {}, html_options = {}) %>
  </p>
  <p>
    <%= f.submit 'Create' %>
  </p>
<% end %>

<%= link_to 'Back', posts_path %>